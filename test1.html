<!DOCTYPE html>
<html>
<head>
    <title>孫老師的 n8n AI Agent 測試網頁</title>
    <style>
        body {
            font-family: sans-serif;
        }
        #prompt-container {
            margin-bottom: 20px;
        }
        #output-container {
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }
    </style>
</head>
<body>
    <h1>孫老師的 n8n AI Agent 測試網頁</h1>

    <div id="prompt-container">
        <label for="question">請輸入您的問題：</label><br>
        <textarea id="question" name="question" rows="4" cols="50"></textarea><br><br>
        <button onclick="sendPrompt()">送出</button>
    </div>

    <div id="output-container">
        <h2>AI 回答：</h2>
        <p id="ai-output"></p>
    </div>

    <script>
        function sendPrompt() {
            const question = document.getElementById("question").value;
            const aiOutputElement = document.getElementById("ai-output");

            // 清空之前的輸出
            aiOutputElement.textContent = "處理中...";

            fetch('https://tw-03.access.glows.ai:24434/webhook-test/803f3f29-989e-45a9-a3ed-326f35a4065c', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    body: {
                        question: question
                    }
                }),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                aiOutputElement.textContent = data.output;
            })
            .catch((error) => {
                console.error('Error:', error);
                aiOutputElement.textContent = "發生錯誤，請稍後再試。";
            });
        }
    </script>

</body>
</html>
